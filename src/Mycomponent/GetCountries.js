import React, { Component } from 'react'
import { DisplayCountries } from './DisplayCountries'


export class GetCountries extends Component {
    constructor() {
        super();
        this.state = {
            countriesList:[]
        }
    }   
    async componentDidMount() {
//         let url = "https://restcountries.com/v3.1/region/asia?=fields=name,capital,flags,region,population,languages,borders"
//         let data = await fetch(url);
//         let parseDdata = await data.json();
//         let finalData=Object.values(parseDdata);
        let finalData=
ar=[{"languages":[{"iso639_1":"ps","iso639_2":"pus","name":"Pashto","nativeName":"پښتو"},{"iso639_1":"uz","iso639_2":"uzb","name":"Uzbek","nativeName":"Oʻzbek"},{"iso639_1":"tk","iso639_2":"tuk","name":"Turkmen","nativeName":"Türkmen"}],"flags":["https://restcountries.com/data/afg.svg","https://restcountries.com/data/png/afg.png"],"name":"Afghanistan","capital":"Kabul","region":"Southern Asia","population":27657145},{"languages":[{"iso639_1":"hy","iso639_2":"hye","name":"Armenian","nativeName":"Հայերեն"}],"flags":["https://restcountries.com/data/arm.svg","https://restcountries.com/data/png/arm.png"],"name":"Armenia","capital":"Yerevan","region":"Western Asia","population":2994400},{"languages":[{"iso639_1":"az","iso639_2":"aze","name":"Azerbaijani","nativeName":"azərbaycan dili"}],"flags":["https://restcountries.com/data/aze.svg","https://restcountries.com/data/png/aze.png"],"name":"Azerbaijan","capital":"Baku","region":"Western Asia","population":9730500},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/bhr.svg","https://restcountries.com/data/png/bhr.png"],"name":"Bahrain","capital":"Manama","region":"Western Asia","population":1404900},{"languages":[{"iso639_1":"bn","iso639_2":"ben","name":"Bengali","nativeName":"বাংলা"}],"flags":["https://restcountries.com/data/bgd.svg","https://restcountries.com/data/png/bgd.png"],"name":"Bangladesh","capital":"Dhaka","region":"Southern Asia","population":161006790},{"languages":[{"iso639_1":"dz","iso639_2":"dzo","name":"Dzongkha","nativeName":"རྫོང་ཁ"}],"flags":["https://restcountries.com/data/btn.svg","https://restcountries.com/data/png/btn.png"],"name":"Bhutan","capital":"Thimphu","region":"Southern Asia","population":775620},{"languages":[{"iso639_1":"ms","iso639_2":"msa","name":"Malay","nativeName":"bahasa Melayu"}],"flags":["https://restcountries.com/data/brn.svg","https://restcountries.com/data/png/brn.png"],"name":"Brunei Darussalam","capital":"Bandar Seri Begawan","region":"South-Eastern Asia","population":411900},{"languages":[{"iso639_1":"km","iso639_2":"khm","name":"Khmer","nativeName":"ខ្មែរ"}],"flags":["https://restcountries.com/data/khm.svg","https://restcountries.com/data/png/khm.png"],"name":"Cambodia","capital":"Phnom Penh","region":"South-Eastern Asia","population":15626444},{"languages":[{"iso639_1":"zh","iso639_2":"zho","name":"Chinese","nativeName":"中文 (Zhōngwén)"}],"flags":["https://restcountries.com/data/chn.svg","https://restcountries.com/data/png/chn.png"],"name":"China","capital":"Beijing","region":"Eastern Asia","population":1377422166},{"languages":[{"iso639_1":"ka","iso639_2":"kat","name":"Georgian","nativeName":"ქართული"}],"flags":["https://restcountries.com/data/geo.svg","https://restcountries.com/data/png/geo.png"],"name":"Georgia","capital":"Tbilisi","region":"Western Asia","population":3720400},{"languages":[{"iso639_1":"hi","iso639_2":"hin","name":"Hindi","nativeName":"हिन्दी"},{"iso639_1":"en","iso639_2":"eng","name":"English","nativeName":"English"}],"flags":["https://restcountries.com/data/ind.svg","https://restcountries.com/data/png/ind.png"],"name":"India","capital":"New Delhi","region":"Southern Asia","population":1378712489},{"languages":[{"iso639_1":"id","iso639_2":"ind","name":"Indonesian","nativeName":"Bahasa Indonesia"}],"flags":["https://restcountries.com/data/idn.svg","https://restcountries.com/data/png/idn.png"],"name":"Indonesia","capital":"Jakarta","region":"South-Eastern Asia","population":258705000},{"languages":[{"iso639_1":"fa","iso639_2":"fas","name":"Persian (Farsi)","nativeName":"فارسی"}],"flags":["https://restcountries.com/data/irn.svg","https://restcountries.com/data/png/irn.png"],"name":"Iran (Islamic Republic of)","capital":"Tehran","region":"Southern Asia","population":79369900},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"},{"iso639_1":"ku","iso639_2":"kur","name":"Kurdish","nativeName":"Kurdî"}],"flags":["https://restcountries.com/data/irq.svg","https://restcountries.com/data/png/irq.png"],"name":"Iraq","capital":"Baghdad","region":"Western Asia","population":37883543},{"languages":[{"iso639_1":"he","iso639_2":"heb","name":"Hebrew (modern)","nativeName":"עברית"},{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/isr.svg","https://restcountries.com/data/png/isr.png"],"name":"Israel","capital":"Jerusalem","region":"Western Asia","population":8527400},{"languages":[{"iso639_1":"ja","iso639_2":"jpn","name":"Japanese","nativeName":"日本語 (にほんご)"}],"flags":["https://restcountries.com/data/jpn.svg","https://restcountries.com/data/png/jpn.png"],"name":"Japan","capital":"Tokyo","region":"Eastern Asia","population":126960000},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/jor.svg","https://restcountries.com/data/png/jor.png"],"name":"Jordan","capital":"Amman","region":"Western Asia","population":9531712},{"languages":[{"iso639_1":"kk","iso639_2":"kaz","name":"Kazakh","nativeName":"қазақ тілі"},{"iso639_1":"ru","iso639_2":"rus","name":"Russian","nativeName":"Русский"}],"flags":["https://restcountries.com/data/kaz.svg","https://restcountries.com/data/png/kaz.png"],"name":"Kazakhstan","capital":"Nursultan","region":"Central Asia","population":17753200},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/kwt.svg","https://restcountries.com/data/png/kwt.png"],"name":"Kuwait","capital":"Kuwait City","region":"Western Asia","population":4183658},{"languages":[{"iso639_1":"ky","iso639_2":"kir","name":"Kyrgyz","nativeName":"Кыргызча"},{"iso639_1":"ru","iso639_2":"rus","name":"Russian","nativeName":"Русский"}],"flags":["https://restcountries.com/data/kgz.svg","https://restcountries.com/data/png/kgz.png"],"name":"Kyrgyzstan","capital":"Bishkek","region":"Central Asia","population":6047800},{"languages":[{"iso639_1":"lo","iso639_2":"lao","name":"Lao","nativeName":"ພາສາລາວ"}],"flags":["https://restcountries.com/data/lao.svg","https://restcountries.com/data/png/lao.png"],"name":"Lao People's Democratic Republic","capital":"Vientiane","region":"South-Eastern Asia","population":6492400},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"},{"iso639_1":"fr","iso639_2":"fra","name":"French","nativeName":"français"}],"flags":["https://restcountries.com/data/lbn.svg","https://restcountries.com/data/png/lbn.png"],"name":"Lebanon","capital":"Beirut","region":"Western Asia","population":5988000},{"languages":[{"iso639_1":"zh","iso639_2":"zho","name":"Chinese","nativeName":"中文 (Zhōngwén)"},{"iso639_1":"pt","iso639_2":"por","name":"Portuguese","nativeName":"Português"}],"flags":["https://restcountries.com/data/mac.svg","https://restcountries.com/data/png/mac.png"],"name":"Macao","capital":"","region":"Eastern Asia","population":649100},{"languages":[{"iso639_1":"ms","iso639_2":"zsm","name":"Malaysian","nativeName":"بهاس مليسيا"}],"flags":["https://restcountries.com/data/mys.svg","https://restcountries.com/data/png/mys.png"],"name":"Malaysia","capital":"Kuala Lumpur","region":"South-Eastern Asia","population":31405416},{"languages":[{"iso639_1":"dv","iso639_2":"div","name":"Divehi","nativeName":"ދިވެހި"}],"flags":["https://restcountries.com/data/mdv.svg","https://restcountries.com/data/png/mdv.png"],"name":"Maldives","capital":"Malé","region":"Southern Asia","population":344023},{"languages":[{"iso639_1":"mn","iso639_2":"mon","name":"Mongolian","nativeName":"Монгол хэл"}],"flags":["https://restcountries.com/data/mng.svg","https://restcountries.com/data/png/mng.png"],"name":"Mongolia","capital":"Ulan Bator","region":"Eastern Asia","population":3093100},{"languages":[{"iso639_1":"my","iso639_2":"mya","name":"Burmese","nativeName":"ဗမာစာ"}],"flags":["https://restcountries.com/data/mmr.svg","https://restcountries.com/data/png/mmr.png"],"name":"Myanmar","capital":"Naypyidaw","region":"South-Eastern Asia","population":51419420},{"languages":[{"iso639_1":"ne","iso639_2":"nep","name":"Nepali","nativeName":"नेपाली"}],"flags":["https://restcountries.com/data/npl.svg","https://restcountries.com/data/png/npl.png"],"name":"Nepal","capital":"Kathmandu","region":"Southern Asia","population":28431500},{"languages":[{"iso639_1":"ko","iso639_2":"kor","name":"Korean","nativeName":"한국어"}],"flags":["https://restcountries.com/data/prk.svg","https://restcountries.com/data/png/prk.png"],"name":"Korea (Democratic People's Republic of)","capital":"Pyongyang","region":"Eastern Asia","population":25281000},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/omn.svg","https://restcountries.com/data/png/omn.png"],"name":"Oman","capital":"Muscat","region":"Western Asia","population":4420133},{"languages":[{"iso639_1":"ur","iso639_2":"urd","name":"Urdu","nativeName":"اردو"},{"iso639_1":"en","iso639_2":"eng","name":"English","nativeName":"English"}],"flags":["https://restcountries.com/data/pak.svg","https://restcountries.com/data/png/pak.png"],"name":"Pakistan","capital":"Islamabad","region":"Southern Asia","population":194125062},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/pse.svg","https://restcountries.com/data/png/pse.png"],"name":"Palestine, State of","capital":"Ramallah","region":"Western Asia","population":5159076},{"languages":[{"iso639_1":"en","iso639_2":"eng","name":"English","nativeName":"English"}],"flags":["https://restcountries.com/data/phl.svg","https://restcountries.com/data/png/phl.png"],"name":"Philippines","capital":"Manila","region":"South-Eastern Asia","population":103279800},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/qat.svg","https://restcountries.com/data/png/qat.png"],"name":"Qatar","capital":"Doha","region":"Western Asia","population":2587564},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/sau.svg","https://restcountries.com/data/png/sau.png"],"name":"Saudi Arabia","capital":"Riyadh","region":"Western Asia","population":32248200},{"languages":[{"iso639_1":"en","iso639_2":"eng","name":"English","nativeName":"English"},{"iso639_1":"ms","iso639_2":"msa","name":"Malay","nativeName":"bahasa Melayu"},{"iso639_1":"ta","iso639_2":"tam","name":"Tamil","nativeName":"தமிழ்"},{"iso639_1":"zh","iso639_2":"zho","name":"Chinese","nativeName":"中文 (Zhōngwén)"}],"flags":["https://restcountries.com/data/sgp.svg","https://restcountries.com/data/png/sgp.png"],"name":"Singapore","capital":"Singapore","region":"South-Eastern Asia","population":5535000},{"languages":[{"iso639_1":"ko","iso639_2":"kor","name":"Korean","nativeName":"한국어"}],"flags":["https://restcountries.com/data/kor.svg","https://restcountries.com/data/png/kor.png"],"name":"Korea (Republic of)","capital":"Seoul","region":"Eastern Asia","population":50801405},{"languages":[{"iso639_1":"si","iso639_2":"sin","name":"Sinhalese","nativeName":"සිංහල"},{"iso639_1":"ta","iso639_2":"tam","name":"Tamil","nativeName":"தமிழ்"}],"flags":["https://restcountries.com/data/lka.svg","https://restcountries.com/data/png/lka.png"],"name":"Sri Lanka","capital":"Sri Jayawardenepura Kotte","region":"Southern Asia","population":20966000},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/syr.svg","https://restcountries.com/data/png/syr.png"],"name":"Syrian Arab Republic","capital":"Damascus","region":"Western Asia","population":18564000},{"languages":[{"iso639_1":"zh","iso639_2":"zho","name":"Chinese","nativeName":"中文 (Zhōngwén)"}],"flags":["https://restcountries.com/data/twn.svg","https://restcountries.com/data/png/twn.png"],"name":"Taiwan","capital":"Taipei","region":"Eastern Asia","population":23503349},{"languages":[{"iso639_1":"tg","iso639_2":"tgk","name":"Tajik","nativeName":"тоҷикӣ"},{"iso639_1":"ru","iso639_2":"rus","name":"Russian","nativeName":"Русский"}],"flags":["https://restcountries.com/data/tjk.svg","https://restcountries.com/data/png/tjk.png"],"name":"Tajikistan","capital":"Dushanbe","region":"Central Asia","population":8593600},{"languages":[{"iso639_1":"th","iso639_2":"tha","name":"Thai","nativeName":"ไทย"}],"flags":["https://restcountries.com/data/tha.svg","https://restcountries.com/data/png/tha.png"],"name":"Thailand","capital":"Bangkok","region":"South-Eastern Asia","population":65327652},{"languages":[{"iso639_1":"pt","iso639_2":"por","name":"Portuguese","nativeName":"Português"}],"flags":["https://restcountries.com/data/tls.svg","https://restcountries.com/data/png/tls.png"],"name":"Timor-Leste","capital":"Dili","region":"South-Eastern Asia","population":1167242},{"languages":[{"iso639_1":"tr","iso639_2":"tur","name":"Turkish","nativeName":"Türkçe"}],"flags":["https://restcountries.com/data/tur.svg","https://restcountries.com/data/png/tur.png"],"name":"Turkey","capital":"Ankara","region":"Western Asia","population":78741053},{"languages":[{"iso639_1":"tk","iso639_2":"tuk","name":"Turkmen","nativeName":"Türkmen"},{"iso639_1":"ru","iso639_2":"rus","name":"Russian","nativeName":"Русский"}],"flags":["https://restcountries.com/data/tkm.svg","https://restcountries.com/data/png/tkm.png"],"name":"Turkmenistan","capital":"Ashgabat","region":"Central Asia","population":4751120},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/are.svg","https://restcountries.com/data/png/are.png"],"name":"United Arab Emirates","capital":"Abu Dhabi","region":"Western Asia","population":9856000},{"languages":[{"iso639_1":"uz","iso639_2":"uzb","name":"Uzbek","nativeName":"Oʻzbek"},{"iso639_1":"ru","iso639_2":"rus","name":"Russian","nativeName":"Русский"}],"flags":["https://restcountries.com/data/uzb.svg","https://restcountries.com/data/png/uzb.png"],"name":"Uzbekistan","capital":"Tashkent","region":"Central Asia","population":31576400},{"languages":[{"iso639_1":"vi","iso639_2":"vie","name":"Vietnamese","nativeName":"Tiếng Việt"}],"flags":["https://restcountries.com/data/vnm.svg","https://restcountries.com/data/png/vnm.png"],"name":"Vietnam","capital":"Hanoi","region":"South-Eastern Asia","population":92700000},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/yem.svg","https://restcountries.com/data/png/yem.png"],"name":"Yemen","capital":"Sana'a","region":"Western Asia","population":27478000},{"languages":[{"iso639_1":"ar","iso639_2":"ara","name":"Arabic","nativeName":"العربية"}],"flags":["https://restcountries.com/data/pse.svg","https://restcountries.com/data/png/pse.png"],"name":"Palestine, State of","capital":"Ramallah","region":"Western Asia","population":5159076}]
        //the parsedData is in Object from, to convert it inot array and use Map function on it
        // we convert the values of Object into a array through Object.values and the rest manipulatoin is according to the data given.
        let atemp=0;
        finalData.sort(function (a,b) {
            
         //the function inside the sorting, if positive is returned then for a>b it sorts b before a(5-3 then 3,5), if negative then a before b(4-5);4,5
         // and if zero then no change here we are comparing the letters of name of countries A>B
                 if (a.name.common> b.name.common) {
                     atemp=1;
                 }
                 else {
                     atemp=-1;
                 }
           
                 return (atemp)
            
        })
        
       
        
        


        this.setState({
            countriesList: finalData
        
        }
        )
        
        
                

        
    }
    
    render() {
        return (
            <div className="container">
                <h1  className="text-center">COUNTRIES OF ASIA</h1>
                <div className="row">
                    {this.state.countriesList.map((elem) => {
            
                        return <div key={elem.name.official} className="col-md-3 my-3">
                            <DisplayCountries Cname={elem.name.common} Ccapital={elem.capital} Cregion={elem.region} Cpopulation={elem.population} Cflagurl={elem.flags.png} Clanguages={Object.values(elem.languages)} Cborders={elem.borders.map((e) => {

                                return e


                            })} />

                        </div>

                    })

                    }

                </div>
            </div>
        )

    }
}       
